<html>
<link rel="stylesheet" href="/style.css">
<main>
    <body>
<div class="container container-column">
    <h1>RPS</h1>
    <h2>Play now:</h2>
    <div class="container">
<button data-key="rock" class="button">Rock</button>
<button data-key="paper" class="button">Paper</button>
<button data-key="scissors" class="button">Scissors</button> </div>
<h2>Result:</h2>
<div class="container"><p id="result-display" class="result"> </p> </div>
<!-- <button class="button">Play Again!</button> -->
</div>
    </body>
</main>
<script>
//variables
let computerSelection = "";
let playerSelection = "";
let playerScore = 0;
let computerScore = 0;

//defined functions

function computerPlay() {
    let index = Math.random();
    if (index < 0.1 ) {
        computerChoice = "Rock"
    } else if (index < 0.5)  {
        computerChoice = "Scissors"
    } else {
        computerChoice = "Paper"
    }
    computerChoice = computerChoice.toLowerCase();
    return computerChoice;
}

function playerPlay() {
    playerChoice = prompt('Rock, paper or scissors?','Rock');
    playerChoice = playerChoice.toLowerCase();
    return playerChoice;
}

function playRound() {
    computerSelection = computerPlay();
    computerSelection.toLowerCase;
    let playerDraw = "It's a draw!";
    let playerWin = "You win! " + playerSelection + " beats " + computerSelection + "!";
    let playerLose = "You lose! " + computerSelection + " beats " + playerSelection + "!";

    if (playerSelection == computerSelection) {
        gameEndPhrase = playerDraw }
        
        else if (playerSelection == "rock") {
        if (computerSelection == "scissors") {
            gameEndPhrase = playerWin;
            playerScore += 1;
        } else { 
            gameEndPhrase = playerLose;
            computerScore += 1;
        } 
    }
        else if (playerSelection == "paper") {
            if (computerSelection == "rock") {
                gameEndPhrase = playerWin;
                playerScore += 1;
            } else { gameEndPhrase = playerLose;
                computerScore += 1;
             }
        }
        else if (playerSelection == "scissors") {
            if (computerSelection == "paper") {
                gameEndPhrase = playerWin;
                playerScore += 1;
            } else { gameEndPhrase = playerLose;
                computerScore += 1; }
        }
        else { gameEndPhrase = "Something's wrong here."}
        document.getElementById('result-display').textContent=gameEndPhrase;
    }
//function game() {
//    playRound(playerSelection, computerSelection); 
//    playRound(playerSelection, computerSelection);  
//    playRound(playerSelection, computerSelection);  
//    playRound(playerSelection, computerSelection);  
//    playRound(playerSelection, computerSelection);  
//return 'Game over.';
//}
const buttons = document.querySelectorAll('.button');
function buttonPlay(e) {
    playerSelection = e.target.dataset.key;
    playRound();
}

buttons.forEach(button => button.addEventListener('click', buttonPlay));

//runable code
//console.log(game())


</script>
</html>